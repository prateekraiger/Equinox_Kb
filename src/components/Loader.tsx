"use client";

import { useGSAP } from "@gsap/react";
import gsap from "gsap";
import { useRef } from "react";

gsap.registerPlugin(useGSAP);

export function Loader() {
  const containerRef = useRef<HTMLDivElement>(null);

  useGSAP(
    () => {
      const tl = gsap.timeline({ repeat: -1, repeatDelay: 1 });

      tl.to(".keycap", {
        y: "15%",
        duration: 0.05,
        ease: "power2.out",
        stagger: 0.2,
      }).to(
        ".keycap",
        {
          y: 0,
          duration: 0.25,
          ease: "bounce.out",
          stagger: 0.2,
        },
        ".2"
      );
    },
    { scope: containerRef }
  );

  return (
    <div
      ref={containerRef}
      className="blue-gradient-bg fixed inset-0 z-[100] flex h-full w-full flex-col items-center justify-center gap-6"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        className="h-12 w-auto"
        fill="none"
        viewBox="0 0 1385 326"
      >
        <path
          fill="#fff"
          d="M185 216.2V7.2c0-4.6 2.1-7 6.3-7h4.6c15 0 26.2 4 33.9 11.6s11.5 20.5 11.5 38.4v263c0 4.3-2.1 6.4-6.3 6.4h-40.8q-8.1 0-12.6-7.5L56.4 108.2v205c0 4.3-2.1 6.4-6.4 6.4H6.4q-6.3 0-6.3-6.3V7.2c0-4.6 2-7 6.3-7h17.2c11.9 0 21 2.4 27.6 7a65.8 65.8 0 0 1 19 21.2zm94.3-168.8a30.3 30.3 0 0 1 31-31.6c8.8 0 16 3 21.8 9.2a29.3 29.3 0 0 1 9.2 22.4c0 8.8-3 16.2-9.2 22.4-5.7 6.1-13 9.2-21.8 9.2a30.5 30.5 0 0 1-31-31.6m9.8 272.2c-3.9 0-5.8-2.1-5.8-6.3V110.5c0-4.5 2-6.8 5.8-6.8h2.8c14.6 0 25.9 3.8 34 11.4 8 7.7 12 20.1 12 37.4v160.8q0 6.3-6.3 6.3H289Zm137.5-189a83.3 83.3 0 0 1 25.2-22.3 74.5 74.5 0 0 1 36.8-8.7c33.7 0 57.6 12.7 71.8 38A105.6 105.6 0 0 1 589 111a72.8 72.8 0 0 1 41.3-11.5c27.2 0 48.5 8 63.8 24.2 15.7 16 23.5 40 23.5 71.7v117.8q0 6.3-6.9 6.3h-42.5q-5.7 0-5.7-6.3V201.9q0-28.8-12.6-40.8a42 42 0 0 0-31-12 44.8 44.8 0 0 0-32.2 12.6c-8.4 8.4-12.6 22-12.6 40.7v110.9c0 4.2-2 6.3-5.8 6.3h-43c-4.3 0-6.4-2.1-6.4-6.3V201.9q0-28.8-12-40.8c-12-12-18.6-12-31.6-12s-23.8 4.1-32.2 12.6c-8.4 8.4-12.6 22-12.6 40.7v110.9q0 6.3-6.3 6.3h-43.7q-5.1 0-5.1-6.3V110.5c0-4.5 1.7-6.8 5.1-6.8h2.9c11.1 0 20.3 2.3 27.6 6.8a32 32 0 0 1 15.5 20.1Zm379.9 162.6v20c0 4.3-2 6.4-5.8 6.4h-43c-3.5 0-5.2-2.1-5.2-6.3V7.2c0-4.6 1.7-7 5.2-7h2.8c15 0 26.2 4 34 11.6 8 7.2 12 19.5 12 36.7v82.7a75.2 75.2 0 0 1 26.4-23.5 82.6 82.6 0 0 1 41.3-9.8c30.3 0 54.2 10.3 71.8 31 17.6 20.3 26.4 47.7 26.4 82.1 0 20.7-3.8 39.7-11.5 56.9a94.7 94.7 0 0 1-32.7 41.3 90.8 90.8 0 0 1-54 15.6c-29 0-51.7-10.6-67.7-31.6M861 273c7.3 0 15.1-1.8 23.6-5.2a49.6 49.6 0 0 0 21.8-18.4c6.1-9.2 9.2-22 9.2-38.5 0-16-3-28.3-9.2-36.7a46.3 46.3 0 0 0-21.3-18.4 63.7 63.7 0 0 0-24-5.2c-7 0-14.6 1.6-23 4.6a45.2 45.2 0 0 0-22.4 17.3c-6.2 8.4-9.2 21.2-9.2 38.4 0 16.9 3 30 9.2 39 6.5 8.9 14 15 22.3 18.5 8.9 3 16.5 4.6 23 4.6m238.3 52.3c-34.8 0-60.1-10.1-75.8-30.4s-23.6-47-23.6-79.8V110.5c0-4.5 2-6.8 5.8-6.8h2.9c14.9 0 26.4 3.8 34.4 11.4 8 7.7 12 20.1 12 37.4V222c0 18.3 4.3 31.7 12.7 40.2 8.4 8.4 19 12.6 31.6 12.6 13 0 24-3.8 32.7-11.5q13.2-12 13.2-40.8v-112c0-4.5 2.1-6.8 6.3-6.8h3c14.9 0 26.2 3.8 33.8 11.4 8 7.7 12 20.1 12 37.4v66c0 32.6-8 58.6-24 78.1-16.1 19.2-41.8 28.7-77 28.7m132.3-68.3c8.8 7.3 18 13 27.6 17.2 10 4.2 21.8 6.3 35.6 6.3 23.3 0 35-7.4 35-22.4 0-6.5-3.6-11.6-10.9-15.5-6.9-3.8-15.5-7.4-25.8-10.9-10-3.4-20.1-7.6-30.5-12.6a84.8 84.8 0 0 1-26.4-19.5 51.9 51.9 0 0 1-10.3-34 59 59 0 0 1 11.4-37.8c8-10 18.4-17.3 31-21.8 13-4.6 26.9-7 41.4-7 18 0 33 3 44.8 8.7 10 4.2 16.5 9.4 19.5 15.5 3 5.7 3 14 0 24.7l-1.7 6.3c-1.1 3-2.7 4.6-4.6 4.6-1.1 0-2-.2-2.9-.6-.7-.8-1.9-1.3-3.4-1.7q-27-13.2-52.8-13.2c-7.7 0-14.2 1.5-19.6 4.6-5.3 3-8 7.8-8 14.3s3.4 11.9 10.3 16.1c7.3 3.8 16 7.5 25.9 11 10.3 3.4 20.6 7.6 31 12.6 10.3 5 19 11.4 25.8 19.5 7.3 8 11 18.7 11 32.1 0 21.5-7.7 38.9-23 52.3q-22.95 19.5-60.9 19.5c-16 0-30.3-2.7-42.5-8a75.4 75.4 0 0 1-28.1-22.4 47.2 47.2 0 0 1-10.4-28.7c0-7.7 2.3-11.5 7-11.5 1.5 0 3 .8 4.5 2.3"
        ></path>
      </svg>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        className="h-full max-h-[30vh] w-full max-w-[60vw]"
        fill="none"
        viewBox="0 0 6279 1286"
      >
        <g id="loading-screen">
          <g id="base">
            <rect
              id="front"
              width="6278"
              height="782.9"
              x="0.1"
              y="503"
              fill="#9B9B9B"
              rx="222"
            ></rect>
            <rect
              id="top"
              width="6278"
              height="1075.6"
              x="0.1"
              y="0.1"
              fill="#D9D9D9"
              rx="222"
            ></rect>
            <path
              id="highlight"
              fill="#EFEFEF"
              d="M136.1 1058.5c-24-10-40-21-43.9-25h6093.5c-19.9 14-28.2 18-45.4 26a245.5 245.5 0 0 1-74.5 16.2H212.5c-11.7 0-44.8-4.1-76.4-17.2"
            ></path>
            <rect
              id="well"
              width="6012.6"
              height="868.8"
              x="132.8"
              y="89"
              fill="#1F1F1F"
              rx="147"
            ></rect>
          </g>
          <mask
            id="mask0_753_226"
            width="6014"
            height="869"
            x="132"
            y="89"
            maskUnits="userSpaceOnUse"
            style={{ maskType: "alpha" }}
          >
            <rect
              id="mask"
              width="6012.6"
              height="868.8"
              x="132.8"
              y="89"
              fill="#1F1F1F"
              rx="147"
            ></rect>
          </mask>
          <g mask="url(#mask0_753_226)">
            <g id="Loading">
              <g id="L" className="keycap">
                <path
                  fill="#D0D0D0"
                  d="M976.2 803c0 74.3-60.8 135.2-135.2 135.2H300.3A135.6 135.6 0 0 1 165 803V262.2C165 188 225.9 127 300.3 127H841c74.4 0 135.2 60.9 135.2 135.2z"
                ></path>
                <g id="top_2">
                  <path
                    fill="#fff"
                    d="M908.6 704.6a112 112 0 0 1-112.2 112.2H345a112 112 0 0 1-112.2-112.2V253A112 112 0 0 1 345 140.8h450a112 112 0 0 1 112.2 112.3v451.5h1.3Z"
                  ></path>
                  <path
                    id="L_2"
                    fill="#434343"
                    d="M504.5 635q-14.7 0-22.8-8.1c-5.4-5.7-8-13.5-8-23.3V329.3c0-10.2 2.5-17.8 7.6-22.9 5.3-5.3 13-8 22.8-8s17.2 2.7 22.3 8c5.4 5.1 8.1 12.7 8.1 22.9V583h137.9c8.5 0 15 2.3 19.5 6.7 4.7 4.4 7.1 10.8 7.1 19 0 8.3-2.4 14.8-7.1 19.5-4.5 4.4-11 6.7-19.5 6.7H504.5Z"
                  ></path>
                </g>
              </g>
              <g id="O" className="keycap">
                <path
                  fill="#D0D0D0"
                  d="M1832.4 803c0 74.3-60.9 135.2-135.2 135.2h-540.8A135.6 135.6 0 0 1 1021.2 803V262.2c0-74.3 60.9-135.2 135.2-135.2h540.8c74.3 0 135.2 60.9 135.2 135.2z"
                ></path>
                <g id="top_3">
                  <path
                    fill="#FFFFFF"
                    d="M1764.8 704.6a112 112 0 0 1-112.2 112.2H1201a112 112 0 0 1-112.2-112.2V253A112 112 0 0 1 1201 140.9h450.2a112 112 0 0 1 112.2 112.3v451.5h1.4Z"
                  ></path>
                  <path
                    id="O_2"
                    fill="#434343"
                    d="M1426.8 639.7c-32.3 0-60.7-7.1-85.1-21.4a146.2 146.2 0 0 1-56.1-59.9c-13.3-26-20-56.4-20-91.3q0-39.45 11.4-70.8a154.4 154.4 0 0 1 32.3-54.2 141.3 141.3 0 0 1 51-34.7 173 173 0 0 1 66.5-12.4c32.6 0 61 7.2 85 21.4 24.2 14 42.9 33.8 56.2 59.5 13.3 25.6 20 55.9 20 90.8 0 26.3-3.8 50-11.5 71.3a155.4 155.4 0 0 1-32.8 54.7 141 141 0 0 1-50.8 35.1c-19.7 8-41.7 12-66.1 12Zm0-52.3c20.6 0 38-4.7 52.3-14.2a89 89 0 0 0 33.3-41.4c7.9-18 11.8-39.6 11.8-64.7 0-38-8.5-67.5-25.6-88.4-16.8-21-40.8-31.4-71.8-31.4a93.6 93.6 0 0 0-52.3 14.3 88.9 88.9 0 0 0-33.8 40.9 163.9 163.9 0 0 0-11.4 64.6c0 37.8 8.6 67.2 25.7 88.5 17.1 21.2 41 31.8 71.8 31.8"
                  ></path>
                </g>
              </g>
              <g id="A" className="keycap">
                <path
                  fill="#D0D0D0"
                  d="M2688.5 803c0 74.3-60.8 135.2-135.2 135.2h-540.7A135.6 135.6 0 0 1 1877.4 803V262.2c0-74.3 60.8-135.2 135.2-135.2h540.7c74.4 0 135.2 60.9 135.2 135.2z"
                ></path>
                <g id="top_4">
                  <path
                    fill="#FFFFFF"
                    d="M2621 704.6a112 112 0 0 1-112.3 112.2h-451.5A112 112 0 0 1 1945 704.6V253a112 112 0 0 1 112.2-112.2h450.2a112 112 0 0 1 112.2 112.3v451.5h1.3Z"
                  ></path>
                  <path
                    id="A_2"
                    fill="#434343"
                    d="M2145.8 638.8c-7.7 0-13.8-1.8-18.6-5.3-4.4-3.4-7.1-8-8-13.7a36 36 0 0 1 3.3-20L2248 321.7c4-9.2 9-15.7 14.7-19.5a35.3 35.3 0 0 1 40 0c6 3.8 11 10.3 15.2 19.5l126 278a34 34 0 0 1 3.8 20c-1 6-3.7 10.8-8.1 14.3a29.7 29.7 0 0 1-17.6 4.8c-8.9 0-15.9-2-21-6.2-4.7-4.4-9-11.1-12.8-20l-30.9-71.8 25.7 16.7h-200.6l25.6-16.7-30.4 71.8a62 62 0 0 1-12.8 20c-4.5 4.1-10.8 6.2-19 6.2m136.4-273-66.6 158.4-12.3-15.2H2362l-12 15.2-67-158.3h-.9Z"
                  ></path>
                </g>
              </g>
              <g id="D" className="keycap">
                <path
                  fill="#D0D0D0"
                  d="M3544.7 803c0 74.3-60.9 135.2-135.2 135.2h-540.8A135.6 135.6 0 0 1 2733.5 803V262.2c0-74.3 60.9-135.2 135.2-135.2h540.8c74.3 0 135.2 60.9 135.2 135.2z"
                ></path>
                <g id="top_5">
                  <path
                    fill="#fff"
                    d="M3477 704.6a112 112 0 0 1-112 112.2h-451.6a112 112 0 0 1-112.2-112.2V253a112 112 0 0 1 112.2-112.2h450.2a112 112 0 0 1 112.2 112.3v451.5h1.4Z"
                  ></path>
                  <path
                    id="D_2"
                    fill="#434343"
                    d="M3026.8 635a34 34 0 0 1-24.2-8.1 34 34 0 0 1-8.1-24.3V332.1c0-10.4 2.7-18.4 8-23.8 5.8-5.7 13.8-8.5 24.3-8.5h92.2c56.1 0 99.4 14.4 129.8 43.3 30.8 28.8 46.1 70.2 46.1 124 0 27-4 51-11.8 71.8-7.7 20.6-19 38-34.3 52.3a149.5 149.5 0 0 1-55.1 32.8c-21.6 7.3-46.4 11-74.7 11zm28.5-50.4h60c19.6 0 36.5-2.4 50.8-7.2a93.7 93.7 0 0 0 36.1-21.8c9.9-9.9 17.2-22 22-36.6 4.7-15 7-32.2 7-51.9 0-39.3-9.6-68.6-29-88-19.3-19.3-48.3-29-87-29h-59.9z"
                  ></path>
                </g>
              </g>
              <g id="I" className="keycap">
                <path
                  fill="#D0D0D0"
                  d="M4400.8 803c0 74.3-60.8 135.2-135.2 135.2H3725A135.6 135.6 0 0 1 3589.7 803V262.2c0-74.3 60.8-135.2 135.2-135.2h540.7c74.4 0 135.2 60.9 135.2 135.2z"
                ></path>
                <g id="top_6">
                  <path
                    fill="#FFFFFF"
                    d="M4333.2 704.6A112 112 0 0 1 4221 816.8h-451.5a112 112 0 0 1-112.2-112.2V253a112 112 0 0 1 112.2-112.2h450.2a112 112 0 0 1 112.2 112.3v451.5z"
                  ></path>
                  <path
                    id="I_2"
                    fill="#434343"
                    d="M3994.7 638.8q-14.7 0-22.8-8.1c-5-5.7-7.6-13.5-7.6-23.3v-280c0-10.2 2.5-18 7.6-23.3q8.1-8.1 22.8-8.1c14.7 0 17.3 2.7 22.4 8 5.3 5.5 8 13.2 8 23.4v280c0 9.8-2.5 17.6-7.6 23.3-5 5.4-12.7 8-22.8 8Z"
                  ></path>
                </g>
              </g>
              <g id="N" className="keycap">
                <path
                  fill="#D0D0D0"
                  d="M5257 803c0 74.3-60.9 135.2-135.2 135.2H4581A135.6 135.6 0 0 1 4445.8 803V262.2c0-74.3 60.9-135.2 135.2-135.2h540.8c74.2 0 135.2 61 135.2 135.2z"
                ></path>
                <g id="top_7">
                  <path
                    fill="#FFFFFF"
                    d="M5189.4 704.6a112 112 0 0 1-112.2 112.2h-451.6a112 112 0 0 1-112.2-112.2V253a112 112 0 0 1 112.2-112.2h450.2A112 112 0 0 1 5188 253.1v451.5z"
                  ></path>
                  <path
                    id="N_2"
                    fill="#434343"
                    d="M4738.4 638.8a29 29 0 0 1-21.4-7.6c-4.8-5.1-7.2-12.4-7.2-22V326.5c0-9.8 2.4-17.3 7.2-22.3q7.5-8.1 19.5-8.1c7.3 0 12.6 1.4 16.1 4.3a65 65 0 0 1 13.3 13.3L4948 549.9h-12.3v-225c0-9.1 2.4-16.2 7.1-21.3a29 29 0 0 1 21.4-7.6c9.2 0 16.2 2.5 21 7.6a30 30 0 0 1 7 21.4v285.2c0 9-2.2 15.9-6.6 21-4.5 5-10.5 7.6-18 7.6-7.4 0-13.2-1.5-17.7-4.3a70.2 70.2 0 0 1-13.8-13.8l-181.6-236.3h12v224.9c0 9.5-2.5 16.8-7.2 21.9-4.8 5-11.7 7.6-21 7.6Z"
                  ></path>
                </g>
              </g>
              <g id="G" className="keycap">
                <path
                  fill="#D0D0D0"
                  d="M6113.1 803c0 74.3-60.8 135.2-135.2 135.2h-540.7A135.6 135.6 0 0 1 5302 803V262.2c0-74.3 60.8-135.2 135.2-135.2h540.7c74.4 0 135.2 60.9 135.2 135.2z"
                ></path>
                <g id="top_8">
                  <path
                    fill="#fff"
                    d="M6045.5 704.6a112 112 0 0 1-112.2 112.2h-451.5a112 112 0 0 1-112.2-112.2V253a112 112 0 0 1 112.2-112.2H5932a112 112 0 0 1 112.2 112.3v451.5z"
                  ></path>
                  <path
                    id="G_2"
                    fill="#434343"
                    d="M5730.2 639.7c-37 0-68.4-7-94.1-20.9a139.9 139.9 0 0 1-58-59.4 195.8 195.8 0 0 1-20-91.3c0-26.6 3.8-50.6 11.4-71.8 8-21.2 19.2-39.3 33.8-54.2 14.9-15.2 33-26.8 54.2-34.7a218.8 218.8 0 0 1 125.5-5.7c18 4.1 35 11.2 50.9 21.4 5.4 3.5 8.9 7.7 10.4 12.8 2 5 2.3 10.3 1 15.7-1.3 5-3.7 9.5-7.1 13.3a23 23 0 0 1-13.4 7.2c-5 .9-10.7-.4-17-3.9a144.9 144.9 0 0 0-78-20c-23.5 0-43.3 4.8-59.5 14.3a87.4 87.4 0 0 0-36.6 40.5c-7.9 17.7-11.9 39.4-11.9 65 0 39 9.4 68.7 28 89 18.8 20.3 46.5 30.4 83.3 30.4 12.7 0 25.5-1.2 38.5-3.8 13-2.5 25.7-6 38-10.4l-11.9 27V499h-52.3c-7.9 0-14-2-18.5-6.2a22.5 22.5 0 0 1-6.2-16.6c0-7.3 2-12.9 6.2-16.7a27.6 27.6 0 0 1 18.6-5.7h78.4c8 0 14 2.2 18 6.7 4.5 4.1 6.7 10.1 6.7 18v115.6c0 7-1.4 12.8-4.3 17.6a22.7 22.7 0 0 1-12.8 10.4q-21 7.65-48 12.9c-18 3.1-35.8 4.7-53.3 4.7"
                  ></path>
                </g>
              </g>
            </g>
          </g>
        </g>
      </svg>
    </div>
  );
}
